{"version":3,"file":"js/852.e74bda56.js","mappings":"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","sources":["webpack://enterprise-file-manager-frontend/./src/api/folder.js","webpack://enterprise-file-manager-frontend/./src/api/file.js","webpack://enterprise-file-manager-frontend/./src/views/files/List.vue","webpack://enterprise-file-manager-frontend/./src/views/files/List.vue?92cf"],"sourcesContent":["import request from '@/utils/request'\n\nexport function getFolderList(params) {\n  return request({\n    url: '/folders/list',\n    method: 'get',\n    params\n  })\n}\n\nexport function createFolder(data) {\n  return request({\n    url: '/folders/create',\n    method: 'post',\n    data\n  })\n}\n\nexport function deleteFolder(id) {\n  return request({\n    url: `/folders/${id}`,\n    method: 'delete'\n  })\n}\n\nexport function renameFolder(id, name) {\n  return request({\n    url: `/folders/${id}/rename`,\n    method: 'put',\n    data: { name }\n  })\n}\n\nexport function moveFolder(id, targetParentId) {\n  return request({\n    url: `/folders/${id}/move`,\n    method: 'post',\n    data: { targetParentId }\n  })\n}\n\nexport function getFolderPath(id) {\n  return request({\n    url: `/folders/${id}/path`,\n    method: 'get'\n  })\n}","import request from \"@/utils/request\"\n\nexport function getFileList(params) {\n  return request({\n    url: \"/files/list\",\n    method: \"get\",\n    params\n  })\n}\n\nexport function uploadFile(data, onUploadProgress) {\n  return request({\n    url: \"/files/upload\",\n    method: \"post\",\n    data,\n    onUploadProgress,\n    timeout: 300000\n  })\n}\n\nexport function downloadFile(id) {\n  return request({\n    url: `/files/download/${id}`,\n    method: \"get\",\n    responseType: \"blob\"\n  })\n}\n\nexport function deleteFile(id) {\n  return request({\n    url: `/files/${id}`,\n    method: \"delete\"\n  })\n}\n\nexport function renameFile(id, name) {\n  return request({\n    url: `/files/${id}/rename`,\n    method: \"put\",\n    data: { name }\n  })\n}\n\nexport function moveFile(id, folderId) {\n  return request({\n    url: `/files/${id}/move`,\n    method: \"post\",\n    data: { folderId }\n  })\n}\n\nexport function copyFile(id, folderId) {\n  return request({\n    url: `/files/${id}/copy`,\n    method: \"post\",\n    data: { folderId }\n  })\n}\n\nexport function searchFiles(keyword) {\n  return request({\n    url: \"/files/search\",\n    method: \"get\",\n    params: { keyword }\n  })\n}\n\nexport function getFileThumbnail(id) {\n  return request({\n    url: `/files/thumbnail/${id}`,\n    method: \"get\",\n    responseType: \"blob\"\n  })\n}\n\nexport function getRecycleBinFiles() {\n  return request({\n    url: \"/files/recycle/bin\",\n    method: \"get\"\n  })\n}\n\nexport function restoreFile(id) {\n  return request({\n    url: `/files/${id}/restore`,\n    method: \"put\"\n  })\n}\n\nexport function permanentDeleteFile(id) {\n  return request({\n    url: `/files/recycle/bin/${id}`,\n    method: \"delete\"\n  })\n}\n\nexport function emptyRecycleBin() {\n  return request({\n    url: \"/files/recycle/bin/empty\",\n    method: \"delete\"\n  })\n}\n","<template>\n  <div class=\"files-container\">\n    <!-- 工具栏 -->\n    <div class=\"toolbar\">\n      <div class=\"toolbar-left\">\n        <el-button type=\"primary\" @click=\"showUploadDialog = true\">\n          <el-icon><Upload /></el-icon>\n          上传文件\n        </el-button>\n        <el-button @click=\"refreshFiles\" :loading=\"loading\">\n          <el-icon><Refresh /></el-icon>\n          刷新\n        </el-button>\n      </div>\n      \n      <div class=\"toolbar-right\">\n        <el-input\n          v-model=\"searchKeyword\"\n          placeholder=\"搜索文件...\"\n          style=\"width: 200px\"\n          clearable\n          @keyup.enter=\"searchFiles\"\n        >\n          <template #prefix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n        <el-button @click=\"searchFiles\">搜索</el-button>\n      </div>\n    </div>\n\n    <!-- 文件列表 -->\n    <div class=\"file-list\">\n      <el-table\n        :data=\"files\"\n        style=\"width: 100%\"\n        v-loading=\"loading\"\n      >\n        <el-table-column label=\"文件名\" min-width=\"300\">\n          <template #default=\"{ row }\">\n            <div class=\"file-info\">\n              <el-icon class=\"file-icon\">\n                <Document />\n              </el-icon>\n              <span class=\"file-name\">{{ row.originalFilename || row.name }}</span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"size\" label=\"大小\" width=\"120\">\n          <template #default=\"{ row }\">\n            {{ formatFileSize(row.size) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"contentType\" label=\"类型\" width=\"150\" />\n        <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\">\n          <template #default=\"{ row }\">\n            {{ formatDateTime(row.createTime) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"280\">\n          <template #default=\"{ row }\">\n            <el-button-group>\n              <el-button size=\"small\" @click=\"downloadFile(row)\">\n                <el-icon><Download /></el-icon>\n                下载\n              </el-button>\n              <el-button size=\"small\" @click=\"renameFile(row)\">\n                <el-icon><Edit /></el-icon>\n                重命名\n              </el-button>\n              <el-button size=\"small\" type=\"danger\" @click=\"deleteFile(row)\">\n                <el-icon><Delete /></el-icon>\n                删除\n              </el-button>\n            </el-button-group>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <!-- 上传对话框 -->\n    <el-dialog v-model=\"showUploadDialog\" title=\"上传文件\" width=\"600px\">\n      <el-form :model=\"uploadForm\" label-width=\"80px\">\n        <el-form-item label=\"选择文件夹\">\n          <el-select v-model=\"uploadForm.folderId\" placeholder=\"选择目标文件夹（可选）\" clearable>\n            <el-option label=\"根目录\" :value=\"null\" />\n            <el-option \n              v-for=\"folder in availableFolders\" \n              :key=\"folder.id\" \n              :label=\"folder.name\" \n              :value=\"folder.id\" \n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      \n      <el-upload\n        ref=\"uploadRef\"\n        class=\"upload-area\"\n        drag\n        multiple\n        :auto-upload=\"false\"\n        :on-change=\"handleFileChange\"\n        :on-remove=\"handleFileRemove\"\n        :limit=\"10\"\n      >\n        <el-icon class=\"el-icon--upload\"><Upload /></el-icon>\n        <div class=\"el-upload__text\">\n          拖拽文件到此处或 <em>点击上传</em>\n        </div>\n      </el-upload>\n      \n      <!-- 上传进度 -->\n      <div v-if=\"uploadProgress.length > 0\" class=\"upload-progress\">\n        <div v-for=\"(progress, index) in uploadProgress\" :key=\"index\" class=\"progress-item\">\n          <div class=\"progress-info\">\n            <span class=\"file-name\">{{ progress.name }}</span>\n            <span class=\"progress-percent\">{{ progress.percent }}%</span>\n          </div>\n          <el-progress :percentage=\"progress.percent\" :status=\"progress.status\" />\n        </div>\n      </div>\n      \n      <template #footer>\n        <el-button @click=\"showUploadDialog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"uploadFilesFunc\" :loading=\"uploading\">\n          开始上传\n        </el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Upload, Refresh, Search, Document, Download, Delete, Edit } from '@element-plus/icons-vue'\nimport { getFileList, uploadFile, downloadFile as downloadFileApi, deleteFile as deleteFileApi, searchFiles as searchFilesApi, renameFile as renameFileApi } from '@/api/file'\nimport { getFolderList } from '@/api/folder'\n\nconst loading = ref(false)\nconst uploading = ref(false)\nconst files = ref([])\nconst searchKeyword = ref('')\nconst showUploadDialog = ref(false)\nconst uploadFiles = ref([])\nconst availableFolders = ref([])\nconst uploadProgress = ref([])\n\nconst uploadForm = reactive({\n  folderId: null\n})\n\n// 格式化文件大小\nconst formatFileSize = (bytes) => {\n  if (!bytes) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// 格式化日期时间\nconst formatDateTime = (datetime) => {\n  if (!datetime) return ''\n  return new Date(datetime).toLocaleString()\n}\n\n// 加载文件夹列表\nconst loadFolders = async () => {\n  try {\n    const response = await getFolderList()\n    availableFolders.value = response || []\n  } catch (error) {\n    console.error('加载文件夹列表失败:', error)\n  }\n}\n\n// 加载文件列表\nconst loadFiles = async () => {\n  loading.value = true\n  try {\n    const response = await getFileList()\n    files.value = response || []\n  } catch (error) {\n    ElMessage.error('加载文件列表失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 刷新文件列表\nconst refreshFiles = () => {\n  loadFiles()\n}\n\n// 搜索文件\nconst searchFiles = async () => {\n  if (!searchKeyword.value.trim()) {\n    await loadFiles()\n    return\n  }\n  \n  loading.value = true\n  try {\n    const response = await searchFilesApi(searchKeyword.value)\n    files.value = response || []\n    ElMessage.success(`找到 ${files.value.length} 个文件`)\n  } catch (error) {\n    ElMessage.error('搜索失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 上传相关方法\nconst handleFileChange = (file) => {\n  uploadFiles.value.push(file)\n}\n\nconst handleFileRemove = (file) => {\n  const index = uploadFiles.value.findIndex(f => f.uid === file.uid)\n  if (index > -1) {\n    uploadFiles.value.splice(index, 1)\n  }\n}\n\nconst uploadFilesFunc = async () => {\n  if (uploadFiles.value.length === 0) {\n    ElMessage.warning('请选择要上传的文件')\n    return\n  }\n\n  uploading.value = true\n  uploadProgress.value = uploadFiles.value.map(file => ({\n    name: file.name,\n    percent: 0,\n    status: ''\n  }))\n\n  try {\n    for (let i = 0; i < uploadFiles.value.length; i++) {\n      const file = uploadFiles.value[i]\n      const formData = new FormData()\n      formData.append('file', file.raw)\n      \n      if (uploadForm.folderId) {\n        formData.append('folderId', uploadForm.folderId)\n      }\n\n      uploadProgress.value[i].status = 'uploading'\n      \n      await uploadFile(formData, (progressEvent) => {\n        const percent = Math.round((progressEvent.loaded * 100) / progressEvent.total)\n        uploadProgress.value[i].percent = percent\n      })\n      \n      uploadProgress.value[i].status = 'success'\n      uploadProgress.value[i].percent = 100\n    }\n    \n    ElMessage.success('文件上传成功')\n    showUploadDialog.value = false\n    uploadFiles.value = []\n    uploadProgress.value = []\n    uploadForm.folderId = null\n    await loadFiles()\n  } catch (error) {\n    ElMessage.error('文件上传失败')\n    uploadProgress.value.forEach(progress => {\n      if (progress.status !== 'success') {\n        progress.status = 'exception'\n      }\n    })\n  } finally {\n    uploading.value = false\n  }\n}\n\n// 下载文件\nconst downloadFile = async (file) => {\n  try {\n    const response = await downloadFileApi(file.id)\n    const blob = new Blob([response.data])\n    const url = window.URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = file.originalFilename || file.name\n    document.body.appendChild(a)\n    a.click()\n    window.URL.revokeObjectURL(url)\n    document.body.removeChild(a)\n  } catch (error) {\n    ElMessage.error('文件下载失败')\n  }\n}\n\n// 重命名文件\nconst renameFile = async (file) => {\n  try {\n    const { value } = await ElMessageBox.prompt(\n      `请输入文件的新名称`,\n      '重命名文件',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputValue: file.originalFilename || file.name,\n        inputPattern: /.+/,\n        inputErrorMessage: '文件名不能为空'\n      }\n    )\n    \n    await renameFileApi(file.id, value)\n    ElMessage.success('文件重命名成功')\n    await loadFiles()\n  } catch (error) {\n    if (error !== 'cancel') {\n      ElMessage.error('文件重命名失败')\n    }\n  }\n}\n\n// 删除文件\nconst deleteFile = async (file) => {\n  try {\n    await ElMessageBox.confirm(\n      `确定要删除文件 \"${file.originalFilename || file.name}\" 吗？`,\n      '删除确认',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }\n    )\n    \n    await deleteFileApi(file.id)\n    ElMessage.success('文件删除成功')\n    await loadFiles()\n  } catch (error) {\n    if (error !== 'cancel') {\n      ElMessage.error('文件删除失败')\n    }\n  }\n}\n\nonMounted(() => {\n  loadFiles()\n  loadFolders()\n})\n</script>\n\n<style scoped>\n.files-container {\n  padding: 20px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.toolbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.toolbar-left {\n  display: flex;\n  gap: 10px;\n}\n\n.toolbar-right {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n.breadcrumb {\n  margin-bottom: 20px;\n  padding: 10px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.file-list {\n  flex: 1;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  overflow: hidden;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.file-icon {\n  font-size: 18px;\n  color: #409EFF;\n}\n\n.file-name {\n  font-weight: 500;\n}\n\n.upload-area {\n  border: 2px dashed #d9d9d9;\n  border-radius: 6px;\n  padding: 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: border-color 0.3s;\n}\n\n.upload-area:hover {\n  border-color: #409EFF;\n}\n\n.upload-area .el-icon--upload {\n  font-size: 48px;\n  color: #409EFF;\n  margin-bottom: 16px;\n}\n\n.el-upload__text {\n  color: #666;\n  font-size: 14px;\n}\n\n.el-upload__text em {\n  color: #409EFF;\n  font-style: normal;\n}\n\n:deep(.el-table) {\n  height: 100%;\n}\n\n:deep(.el-table__body-wrapper) {\n  overflow-y: auto;\n}\n\n.upload-progress {\n  margin-top: 20px;\n}\n\n.progress-item {\n  margin-bottom: 15px;\n}\n\n.progress-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 5px;\n}\n\n.progress-item .file-name {\n  font-size: 14px;\n  color: #333;\n  font-weight: 500;\n}\n\n.progress-item .progress-percent {\n  font-size: 12px;\n  color: #666;\n}\n</style>\n","import script from \"./List.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./List.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./List.vue?vue&type=style&index=0&id=34e49f1e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-34e49f1e\"]])\n\nexport default __exports__"],"names":["getFolderList","params","request","url","method","createFolder","data","deleteFolder","id","renameFolder","name","getFolderPath","getFileList","uploadFile","onUploadProgress","timeout","downloadFile","responseType","deleteFile","renameFile","searchFiles","keyword","getRecycleBinFiles","restoreFile","permanentDeleteFile","emptyRecycleBin","loading","ref","uploading","files","searchKeyword","showUploadDialog","uploadFiles","availableFolders","uploadProgress","uploadForm","reactive","folderId","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatDateTime","datetime","Date","toLocaleString","loadFolders","async","response","value","error","console","loadFiles","ElMessage","refreshFiles","trim","searchFilesApi","success","length","handleFileChange","file","push","handleFileRemove","index","findIndex","f","uid","splice","uploadFilesFunc","map","percent","status","formData","FormData","append","raw","progressEvent","round","loaded","total","forEach","progress","warning","downloadFileApi","blob","Blob","window","URL","createObjectURL","a","document","createElement","href","download","originalFilename","body","appendChild","click","revokeObjectURL","removeChild","ElMessageBox","prompt","confirmButtonText","cancelButtonText","inputValue","inputPattern","inputErrorMessage","renameFileApi","confirm","type","deleteFileApi","onMounted","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","onClick","_cache","$event","_component_el_icon","_unref","Upload","Refresh","_hoisted_4","_component_el_input","placeholder","style","clearable","onKeyup","_withKeys","prefix","_withCtx","Search","_hoisted_5","_createBlock","_component_el_table","_component_el_table_column","label","default","row","_hoisted_6","class","Document","_hoisted_7","_toDisplayString","prop","width","size","createTime","_component_el_button_group","Download","Edit","Delete","_component_el_dialog","title","footer","_component_el_form","model","_component_el_form_item","_component_el_select","_component_el_option","_Fragment","_renderList","folder","key","_component_el_upload","drag","multiple","limit","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_progress","percentage","__exports__"],"sourceRoot":""}