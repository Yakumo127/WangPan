{"version":3,"file":"js/672.a7ef014a.js","mappings":"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","sources":["webpack://enterprise-file-manager-frontend/./src/views/Login.vue","webpack://enterprise-file-manager-frontend/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-box\">\n      <div class=\"login-header\">\n        <h1>企业文件管理系统</h1>\n        <p>安全、高效的企业级文件管理平台</p>\n        \n        <!-- 切换按钮 -->\n        <div class=\"mode-switch\">\n          <el-button\n            :type=\"isLogin ? 'primary' : 'default'\"\n            size=\"large\"\n            @click=\"switchMode(true)\"\n          >\n            登录\n          </el-button>\n          <el-button\n            :type=\"!isLogin ? 'primary' : 'default'\"\n            size=\"large\"\n            @click=\"switchMode(false)\"\n          >\n            注册\n          </el-button>\n        </div>\n      </div>\n      \n      <!-- 登录表单 -->\n      <el-form\n        v-if=\"isLogin\"\n        ref=\"loginFormRef\"\n        :model=\"loginForm\"\n        :rules=\"loginRules\"\n        class=\"login-form\"\n        @submit.prevent=\"handleLogin\"\n      >\n        <el-form-item prop=\"username\">\n          <el-input\n            v-model=\"loginForm.username\"\n            placeholder=\"请输入用户名\"\n            size=\"large\"\n            prefix-icon=\"User\"\n            clearable\n          />\n        </el-form-item>\n        \n        <el-form-item prop=\"password\">\n          <el-input\n            v-model=\"loginForm.password\"\n            type=\"password\"\n            placeholder=\"请输入密码\"\n            size=\"large\"\n            prefix-icon=\"Lock\"\n            show-password\n            @keyup.enter=\"handleLogin\"\n          />\n        </el-form-item>\n        \n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            size=\"large\"\n            style=\"width: 100%\"\n            :loading=\"loading\"\n            @click=\"handleLogin\"\n          >\n            登录\n          </el-button>\n        </el-form-item>\n      </el-form>\n      \n      <!-- 注册表单 -->\n      <el-form\n        v-else\n        ref=\"registerFormRef\"\n        :model=\"registerForm\"\n        :rules=\"registerRules\"\n        class=\"login-form\"\n        @submit.prevent=\"handleRegister\"\n      >\n        <el-form-item prop=\"username\">\n          <el-input\n            v-model=\"registerForm.username\"\n            placeholder=\"请输入用户名\"\n            size=\"large\"\n            prefix-icon=\"User\"\n            clearable\n          />\n        </el-form-item>\n        \n        <el-form-item prop=\"email\">\n          <el-input\n            v-model=\"registerForm.email\"\n            placeholder=\"请输入邮箱\"\n            size=\"large\"\n            prefix-icon=\"Message\"\n            clearable\n          />\n        </el-form-item>\n        \n        <el-form-item prop=\"password\">\n          <el-input\n            v-model=\"registerForm.password\"\n            type=\"password\"\n            placeholder=\"请输入密码\"\n            size=\"large\"\n            prefix-icon=\"Lock\"\n            show-password\n          />\n        </el-form-item>\n        \n        <el-form-item prop=\"confirmPassword\">\n          <el-input\n            v-model=\"registerForm.confirmPassword\"\n            type=\"password\"\n            placeholder=\"请确认密码\"\n            size=\"large\"\n            prefix-icon=\"Lock\"\n            show-password\n            @keyup.enter=\"handleRegister\"\n          />\n        </el-form-item>\n        \n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            size=\"large\"\n            style=\"width: 100%\"\n            :loading=\"loading\"\n            @click=\"handleRegister\"\n          >\n            注册\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { useAuthStore } from '@/store/auth'\n\nconst router = useRouter()\nconst route = useRoute()\nconst authStore = useAuthStore()\n\n// 表单引用\nconst loginFormRef = ref()\nconst registerFormRef = ref()\n\n// 状态管理\nconst loading = ref(false)\nconst isLogin = ref(true) // true为登录模式，false为注册模式\n\n// 登录表单数据\nconst loginForm = reactive({\n  username: '',\n  password: ''\n})\n\n// 注册表单数据\nconst registerForm = reactive({\n  username: '',\n  email: '',\n  password: '',\n  confirmPassword: ''\n})\n\n// 登录验证规则\nconst loginRules = {\n  username: [\n    { required: true, message: '请输入用户名', trigger: 'blur' },\n    { min: 3, max: 20, message: '用户名长度在3-20个字符', trigger: 'blur' }\n  ],\n  password: [\n    { required: true, message: '请输入密码', trigger: 'blur' },\n    { min: 6, max: 20, message: '密码长度在6-20个字符', trigger: 'blur' }\n  ]\n}\n\n// 注册验证规则\nconst validatePass = (rule, value, callback) => {\n  if (value === '') {\n    callback(new Error('请输入密码'))\n  } else if (value.length < 6) {\n    callback(new Error('密码长度不能小于6位'))\n  } else {\n    if (registerForm.confirmPassword !== '') {\n      registerFormRef.value?.validateField('confirmPassword')\n    }\n    callback()\n  }\n}\n\nconst validatePass2 = (rule, value, callback) => {\n  if (value === '') {\n    callback(new Error('请再次输入密码'))\n  } else if (value !== registerForm.password) {\n    callback(new Error('两次输入密码不一致'))\n  } else {\n    callback()\n  }\n}\n\nconst registerRules = {\n  username: [\n    { required: true, message: '请输入用户名', trigger: 'blur' },\n    { min: 3, max: 20, message: '用户名长度在3-20个字符', trigger: 'blur' }\n  ],\n  email: [\n    { required: true, message: '请输入邮箱', trigger: 'blur' },\n    { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n  ],\n  password: [\n    { validator: validatePass, trigger: 'blur' }\n  ],\n  confirmPassword: [\n    { validator: validatePass2, trigger: 'blur' }\n  ]\n}\n\n// 切换登录/注册模式\nconst switchMode = (loginMode) => {\n  isLogin.value = loginMode\n  // 清空表单验证状态\n  if (loginFormRef.value) {\n    loginFormRef.value.clearValidate()\n  }\n  if (registerFormRef.value) {\n    registerFormRef.value.clearValidate()\n  }\n}\n\n// 处理登录\nconst handleLogin = async () => {\n  if (!loginFormRef.value) return\n  \n  await loginFormRef.value.validate(async (valid) => {\n    if (valid) {\n      loading.value = true\n      try {\n        await authStore.handleLogin(loginForm)\n        ElMessage.success('登录成功')\n        router.push('/')\n      } catch (error) {\n        ElMessage.error(error.message || '登录失败')\n      } finally {\n        loading.value = false\n      }\n    }\n  })\n}\n\n// 处理注册\nconst handleRegister = async () => {\n  if (!registerFormRef.value) return\n  \n  await registerFormRef.value.validate(async (valid) => {\n    if (valid) {\n      loading.value = true\n      try {\n        await authStore.handleRegister({\n          username: registerForm.username,\n          email: registerForm.email,\n          password: registerForm.password,\n          confirmPassword: registerForm.confirmPassword\n        })\n        ElMessage.success('注册成功')\n        // 注册成功后切换到登录模式\n        isLogin.value = true\n        // 清空注册表单\n        registerForm.username = ''\n        registerForm.email = ''\n        registerForm.password = ''\n        registerForm.confirmPassword = ''\n      } catch (error) {\n        ElMessage.error(error.message || '注册失败')\n      } finally {\n        loading.value = false\n      }\n    }\n  })\n}\n\n// 组件挂载时检查URL参数\nonMounted(() => {\n  // 如果URL中有mode=register参数，默认显示注册表单\n  if (route.query.mode === 'register') {\n    isLogin.value = false\n  }\n})\n\n</script>\n\n<style scoped>\n.login-container {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n}\n\n.login-box {\n  width: 100%;\n  max-width: 400px;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  padding: 40px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.login-header h1 {\n  color: #2c3e50;\n  font-size: 28px;\n  font-weight: 600;\n  margin-bottom: 10px;\n}\n\n.login-header p {\n  color: #7f8c8d;\n  font-size: 14px;\n  margin-bottom: 20px;\n}\n\n.mode-switch {\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n}\n\n.mode-switch .el-button {\n  min-width: 100px;\n}\n\n.login-form {\n  margin-top: 20px;\n}\n\n:deep(.el-input__inner) {\n  height: 45px;\n  font-size: 16px;\n}\n\n:deep(.el-form-item__content) {\n  flex-direction: column;\n}\n\n:deep(.el-button--large) {\n  height: 45px;\n  font-size: 16px;\n}\n\n/* 响应式调整 */\n@media (max-width: 480px) {\n  .login-box {\n    margin: 20px;\n    padding: 30px 20px;\n  }\n  \n  .login-header h1 {\n    font-size: 24px;\n  }\n  \n  .mode-switch .el-button {\n    min-width: 80px;\n    font-size: 14px;\n  }\n}\n</style>","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=e917c8e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e917c8e0\"]])\n\nexport default __exports__"],"names":["router","useRouter","route","useRoute","authStore","useAuthStore","loginFormRef","ref","registerFormRef","loading","isLogin","loginForm","reactive","username","password","registerForm","email","confirmPassword","loginRules","required","message","trigger","min","max","validatePass","rule","value","callback","Error","length","validateField","validatePass2","registerRules","type","validator","switchMode","loginMode","clearValidate","handleLogin","async","validate","valid","ElMessage","success","push","error","handleRegister","onMounted","query","mode","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_el_button","size","onClick","_cache","$event","_createBlock","_component_el_form","model","rules","class","onSubmit","_withModifiers","_component_el_form_item","prop","_component_el_input","placeholder","clearable","onKeyup","_withKeys","style","__exports__"],"sourceRoot":""}