{"ast":null,"code":"import { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withKeys as _withKeys, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"files-container\"\n};\nconst _hoisted_2 = {\n  class: \"toolbar\"\n};\nconst _hoisted_3 = {\n  class: \"toolbar-left\"\n};\nconst _hoisted_4 = {\n  class: \"toolbar-right\"\n};\nconst _hoisted_5 = {\n  class: \"file-list\"\n};\nconst _hoisted_6 = {\n  class: \"file-info\"\n};\nconst _hoisted_7 = {\n  class: \"file-name\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"upload-progress\"\n};\nconst _hoisted_9 = {\n  class: \"progress-info\"\n};\nconst _hoisted_10 = {\n  class: \"file-name\"\n};\nconst _hoisted_11 = {\n  class: \"progress-percent\"\n};\nimport { ref, reactive, onMounted } from 'vue';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport { Upload, Refresh, Search, Document, Download, Delete, Edit } from '@element-plus/icons-vue';\nimport { getFileList, uploadFile, downloadFile as downloadFileApi, deleteFile as deleteFileApi, searchFiles as searchFilesApi, renameFile as renameFileApi } from '@/api/file';\nimport { getFolderList } from '@/api/folder';\nexport default {\n  __name: 'List',\n  setup(__props) {\n    const loading = ref(false);\n    const uploading = ref(false);\n    const files = ref([]);\n    const searchKeyword = ref('');\n    const showUploadDialog = ref(false);\n    const uploadFiles = ref([]);\n    const availableFolders = ref([]);\n    const uploadProgress = ref([]);\n    const uploadForm = reactive({\n      folderId: null\n    });\n\n    // 格式化文件大小\n    const formatFileSize = bytes => {\n      if (!bytes) return '0 B';\n      const k = 1024;\n      const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    };\n\n    // 格式化日期时间\n    const formatDateTime = datetime => {\n      if (!datetime) return '';\n      return new Date(datetime).toLocaleString();\n    };\n\n    // 加载文件夹列表\n    const loadFolders = async () => {\n      try {\n        const response = await getFolderList();\n        availableFolders.value = response || [];\n      } catch (error) {\n        console.error('加载文件夹列表失败:', error);\n      }\n    };\n\n    // 加载文件列表\n    const loadFiles = async () => {\n      loading.value = true;\n      try {\n        const response = await getFileList();\n        files.value = response || [];\n      } catch (error) {\n        ElMessage.error('加载文件列表失败');\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 刷新文件列表\n    const refreshFiles = () => {\n      loadFiles();\n    };\n\n    // 搜索文件\n    const searchFiles = async () => {\n      if (!searchKeyword.value.trim()) {\n        await loadFiles();\n        return;\n      }\n      loading.value = true;\n      try {\n        const response = await searchFilesApi(searchKeyword.value);\n        files.value = response || [];\n        ElMessage.success(`找到 ${files.value.length} 个文件`);\n      } catch (error) {\n        ElMessage.error('搜索失败');\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 上传相关方法\n    const handleFileChange = file => {\n      uploadFiles.value.push(file);\n    };\n    const handleFileRemove = file => {\n      const index = uploadFiles.value.findIndex(f => f.uid === file.uid);\n      if (index > -1) {\n        uploadFiles.value.splice(index, 1);\n      }\n    };\n    const uploadFilesFunc = async () => {\n      if (uploadFiles.value.length === 0) {\n        ElMessage.warning('请选择要上传的文件');\n        return;\n      }\n      uploading.value = true;\n      uploadProgress.value = uploadFiles.value.map(file => ({\n        name: file.name,\n        percent: 0,\n        status: ''\n      }));\n      try {\n        for (let i = 0; i < uploadFiles.value.length; i++) {\n          const file = uploadFiles.value[i];\n          const formData = new FormData();\n          formData.append('file', file.raw);\n          if (uploadForm.folderId) {\n            formData.append('folderId', uploadForm.folderId);\n          }\n          uploadProgress.value[i].status = 'uploading';\n          await uploadFile(formData, progressEvent => {\n            const percent = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n            uploadProgress.value[i].percent = percent;\n          });\n          uploadProgress.value[i].status = 'success';\n          uploadProgress.value[i].percent = 100;\n        }\n        ElMessage.success('文件上传成功');\n        showUploadDialog.value = false;\n        uploadFiles.value = [];\n        uploadProgress.value = [];\n        uploadForm.folderId = null;\n        await loadFiles();\n      } catch (error) {\n        ElMessage.error('文件上传失败');\n        uploadProgress.value.forEach(progress => {\n          if (progress.status !== 'success') {\n            progress.status = 'exception';\n          }\n        });\n      } finally {\n        uploading.value = false;\n      }\n    };\n\n    // 下载文件\n    const downloadFile = async file => {\n      try {\n        const response = await downloadFileApi(file.id);\n        const blob = new Blob([response.data]);\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = file.originalFilename || file.name;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } catch (error) {\n        ElMessage.error('文件下载失败');\n      }\n    };\n\n    // 重命名文件\n    const renameFile = async file => {\n      try {\n        const {\n          value\n        } = await ElMessageBox.prompt(`请输入文件的新名称`, '重命名文件', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          inputValue: file.originalFilename || file.name,\n          inputPattern: /.+/,\n          inputErrorMessage: '文件名不能为空'\n        });\n        await renameFileApi(file.id, value);\n        ElMessage.success('文件重命名成功');\n        await loadFiles();\n      } catch (error) {\n        if (error !== 'cancel') {\n          ElMessage.error('文件重命名失败');\n        }\n      }\n    };\n\n    // 删除文件\n    const deleteFile = async file => {\n      try {\n        await ElMessageBox.confirm(`确定要删除文件 \"${file.originalFilename || file.name}\" 吗？`, '删除确认', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        });\n        await deleteFileApi(file.id);\n        ElMessage.success('文件删除成功');\n        await loadFiles();\n      } catch (error) {\n        if (error !== 'cancel') {\n          ElMessage.error('文件删除失败');\n        }\n      }\n    };\n    onMounted(() => {\n      loadFiles();\n      loadFolders();\n    });\n    return (_ctx, _cache) => {\n      const _component_el_icon = _resolveComponent(\"el-icon\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_table_column = _resolveComponent(\"el-table-column\");\n      const _component_el_button_group = _resolveComponent(\"el-button-group\");\n      const _component_el_table = _resolveComponent(\"el-table\");\n      const _component_el_option = _resolveComponent(\"el-option\");\n      const _component_el_select = _resolveComponent(\"el-select\");\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n      const _component_el_form = _resolveComponent(\"el-form\");\n      const _component_el_upload = _resolveComponent(\"el-upload\");\n      const _component_el_progress = _resolveComponent(\"el-progress\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      const _directive_loading = _resolveDirective(\"loading\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: _cache[0] || (_cache[0] = $event => showUploadDialog.value = true)\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode(_unref(Upload))]),\n          _: 1\n        }), _cache[5] || (_cache[5] = _createTextVNode(\" 上传文件 \", -1))]),\n        _: 1\n      }), _createVNode(_component_el_button, {\n        onClick: refreshFiles,\n        loading: loading.value\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode(_unref(Refresh))]),\n          _: 1\n        }), _cache[6] || (_cache[6] = _createTextVNode(\" 刷新 \", -1))]),\n        _: 1\n      }, 8, [\"loading\"])]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_input, {\n        modelValue: searchKeyword.value,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => searchKeyword.value = $event),\n        placeholder: \"搜索文件...\",\n        style: {\n          \"width\": \"200px\"\n        },\n        clearable: \"\",\n        onKeyup: _withKeys(searchFiles, [\"enter\"])\n      }, {\n        prefix: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode(_unref(Search))]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"modelValue\"]), _createVNode(_component_el_button, {\n        onClick: searchFiles\n      }, {\n        default: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createTextVNode(\"搜索\", -1)]))]),\n        _: 1\n      })])]), _createElementVNode(\"div\", _hoisted_5, [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n        data: files.value,\n        style: {\n          \"width\": \"100%\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          label: \"文件名\",\n          \"min-width\": \"300\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_icon, {\n            class: \"file-icon\"\n          }, {\n            default: _withCtx(() => [_createVNode(_unref(Document))]),\n            _: 1\n          }), _createElementVNode(\"span\", _hoisted_7, _toDisplayString(row.originalFilename || row.name), 1)])]),\n          _: 1\n        }), _createVNode(_component_el_table_column, {\n          prop: \"size\",\n          label: \"大小\",\n          width: \"120\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createTextVNode(_toDisplayString(formatFileSize(row.size)), 1)]),\n          _: 1\n        }), _createVNode(_component_el_table_column, {\n          prop: \"contentType\",\n          label: \"类型\",\n          width: \"150\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"createTime\",\n          label: \"创建时间\",\n          width: \"180\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createTextVNode(_toDisplayString(formatDateTime(row.createTime)), 1)]),\n          _: 1\n        }), _createVNode(_component_el_table_column, {\n          label: \"操作\",\n          width: \"280\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createVNode(_component_el_button_group, null, {\n            default: _withCtx(() => [_createVNode(_component_el_button, {\n              size: \"small\",\n              onClick: $event => downloadFile(row)\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [_createVNode(_unref(Download))]),\n                _: 1\n              }), _cache[8] || (_cache[8] = _createTextVNode(\" 下载 \", -1))]),\n              _: 1\n            }, 8, [\"onClick\"]), _createVNode(_component_el_button, {\n              size: \"small\",\n              onClick: $event => renameFile(row)\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [_createVNode(_unref(Edit))]),\n                _: 1\n              }), _cache[9] || (_cache[9] = _createTextVNode(\" 重命名 \", -1))]),\n              _: 1\n            }, 8, [\"onClick\"]), _createVNode(_component_el_button, {\n              size: \"small\",\n              type: \"danger\",\n              onClick: $event => deleteFile(row)\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [_createVNode(_unref(Delete))]),\n                _: 1\n              }), _cache[10] || (_cache[10] = _createTextVNode(\" 删除 \", -1))]),\n              _: 1\n            }, 8, [\"onClick\"])]),\n            _: 2\n          }, 1024)]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"data\"])), [[_directive_loading, loading.value]])]), _createVNode(_component_el_dialog, {\n        modelValue: showUploadDialog.value,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => showUploadDialog.value = $event),\n        title: \"上传文件\",\n        width: \"600px\"\n      }, {\n        footer: _withCtx(() => [_createVNode(_component_el_button, {\n          onClick: _cache[3] || (_cache[3] = $event => showUploadDialog.value = false)\n        }, {\n          default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createTextVNode(\"取消\", -1)]))]),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: uploadFilesFunc,\n          loading: uploading.value\n        }, {\n          default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\" 开始上传 \", -1)]))]),\n          _: 1\n        }, 8, [\"loading\"])]),\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          model: uploadForm,\n          \"label-width\": \"80px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"选择文件夹\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_select, {\n              modelValue: uploadForm.folderId,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => uploadForm.folderId = $event),\n              placeholder: \"选择目标文件夹（可选）\",\n              clearable: \"\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_option, {\n                label: \"根目录\",\n                value: null\n              }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(availableFolders.value, folder => {\n                return _openBlock(), _createBlock(_component_el_option, {\n                  key: folder.id,\n                  label: folder.name,\n                  value: folder.id\n                }, null, 8, [\"label\", \"value\"]);\n              }), 128))]),\n              _: 1\n            }, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"model\"]), _createVNode(_component_el_upload, {\n          ref: \"uploadRef\",\n          class: \"upload-area\",\n          drag: \"\",\n          multiple: \"\",\n          \"auto-upload\": false,\n          \"on-change\": handleFileChange,\n          \"on-remove\": handleFileRemove,\n          limit: 10\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, {\n            class: \"el-icon--upload\"\n          }, {\n            default: _withCtx(() => [_createVNode(_unref(Upload))]),\n            _: 1\n          }), _cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n            class: \"el-upload__text\"\n          }, [_createTextVNode(\" 拖拽文件到此处或 \"), _createElementVNode(\"em\", null, \"点击上传\")], -1))]),\n          _: 1\n        }, 512), uploadProgress.value.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(uploadProgress.value, (progress, index) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: index,\n            class: \"progress-item\"\n          }, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString(progress.name), 1), _createElementVNode(\"span\", _hoisted_11, _toDisplayString(progress.percent) + \"%\", 1)]), _createVNode(_component_el_progress, {\n            percentage: progress.percent,\n            status: progress.status\n          }, null, 8, [\"percentage\", \"status\"])]);\n        }), 128))])) : _createCommentVNode(\"\", true)]),\n        _: 1\n      }, 8, [\"modelValue\"])]);\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","ElMessage","ElMessageBox","Upload","Refresh","Search","Document","Download","Delete","Edit","getFileList","uploadFile","downloadFile","downloadFileApi","deleteFile","deleteFileApi","searchFiles","searchFilesApi","renameFile","renameFileApi","getFolderList","loading","uploading","files","searchKeyword","showUploadDialog","uploadFiles","availableFolders","uploadProgress","uploadForm","folderId","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatDateTime","datetime","Date","toLocaleString","loadFolders","response","value","error","console","loadFiles","refreshFiles","trim","success","length","handleFileChange","file","push","handleFileRemove","index","findIndex","f","uid","splice","uploadFilesFunc","warning","map","name","percent","status","formData","FormData","append","raw","progressEvent","round","loaded","total","forEach","progress","id","blob","Blob","data","url","window","URL","createObjectURL","a","document","createElement","href","download","originalFilename","body","appendChild","click","revokeObjectURL","removeChild","prompt","confirmButtonText","cancelButtonText","inputValue","inputPattern","inputErrorMessage","confirm","type","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","onClick","_cache","$event","_component_el_icon","_unref","_hoisted_4","_component_el_input","placeholder","style","clearable","onKeyup","_withKeys","prefix","_withCtx","_hoisted_5","_createBlock","_component_el_table","_component_el_table_column","label","default","row","_hoisted_6","class","_hoisted_7","_toDisplayString","prop","width","size","createTime","_component_el_button_group","_component_el_dialog","title","footer","_component_el_form","model","_component_el_form_item","_component_el_select","_component_el_option","_Fragment","_renderList","folder","key","_component_el_upload","drag","multiple","limit","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_progress","percentage"],"sources":["/workspace/frontend/src/views/files/List.vue"],"sourcesContent":["<template>\n  <div class=\"files-container\">\n    <!-- 工具栏 -->\n    <div class=\"toolbar\">\n      <div class=\"toolbar-left\">\n        <el-button type=\"primary\" @click=\"showUploadDialog = true\">\n          <el-icon><Upload /></el-icon>\n          上传文件\n        </el-button>\n        <el-button @click=\"refreshFiles\" :loading=\"loading\">\n          <el-icon><Refresh /></el-icon>\n          刷新\n        </el-button>\n      </div>\n      \n      <div class=\"toolbar-right\">\n        <el-input\n          v-model=\"searchKeyword\"\n          placeholder=\"搜索文件...\"\n          style=\"width: 200px\"\n          clearable\n          @keyup.enter=\"searchFiles\"\n        >\n          <template #prefix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n        <el-button @click=\"searchFiles\">搜索</el-button>\n      </div>\n    </div>\n\n    <!-- 文件列表 -->\n    <div class=\"file-list\">\n      <el-table\n        :data=\"files\"\n        style=\"width: 100%\"\n        v-loading=\"loading\"\n      >\n        <el-table-column label=\"文件名\" min-width=\"300\">\n          <template #default=\"{ row }\">\n            <div class=\"file-info\">\n              <el-icon class=\"file-icon\">\n                <Document />\n              </el-icon>\n              <span class=\"file-name\">{{ row.originalFilename || row.name }}</span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"size\" label=\"大小\" width=\"120\">\n          <template #default=\"{ row }\">\n            {{ formatFileSize(row.size) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"contentType\" label=\"类型\" width=\"150\" />\n        <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\">\n          <template #default=\"{ row }\">\n            {{ formatDateTime(row.createTime) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"280\">\n          <template #default=\"{ row }\">\n            <el-button-group>\n              <el-button size=\"small\" @click=\"downloadFile(row)\">\n                <el-icon><Download /></el-icon>\n                下载\n              </el-button>\n              <el-button size=\"small\" @click=\"renameFile(row)\">\n                <el-icon><Edit /></el-icon>\n                重命名\n              </el-button>\n              <el-button size=\"small\" type=\"danger\" @click=\"deleteFile(row)\">\n                <el-icon><Delete /></el-icon>\n                删除\n              </el-button>\n            </el-button-group>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <!-- 上传对话框 -->\n    <el-dialog v-model=\"showUploadDialog\" title=\"上传文件\" width=\"600px\">\n      <el-form :model=\"uploadForm\" label-width=\"80px\">\n        <el-form-item label=\"选择文件夹\">\n          <el-select v-model=\"uploadForm.folderId\" placeholder=\"选择目标文件夹（可选）\" clearable>\n            <el-option label=\"根目录\" :value=\"null\" />\n            <el-option \n              v-for=\"folder in availableFolders\" \n              :key=\"folder.id\" \n              :label=\"folder.name\" \n              :value=\"folder.id\" \n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      \n      <el-upload\n        ref=\"uploadRef\"\n        class=\"upload-area\"\n        drag\n        multiple\n        :auto-upload=\"false\"\n        :on-change=\"handleFileChange\"\n        :on-remove=\"handleFileRemove\"\n        :limit=\"10\"\n      >\n        <el-icon class=\"el-icon--upload\"><Upload /></el-icon>\n        <div class=\"el-upload__text\">\n          拖拽文件到此处或 <em>点击上传</em>\n        </div>\n      </el-upload>\n      \n      <!-- 上传进度 -->\n      <div v-if=\"uploadProgress.length > 0\" class=\"upload-progress\">\n        <div v-for=\"(progress, index) in uploadProgress\" :key=\"index\" class=\"progress-item\">\n          <div class=\"progress-info\">\n            <span class=\"file-name\">{{ progress.name }}</span>\n            <span class=\"progress-percent\">{{ progress.percent }}%</span>\n          </div>\n          <el-progress :percentage=\"progress.percent\" :status=\"progress.status\" />\n        </div>\n      </div>\n      \n      <template #footer>\n        <el-button @click=\"showUploadDialog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"uploadFilesFunc\" :loading=\"uploading\">\n          开始上传\n        </el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Upload, Refresh, Search, Document, Download, Delete, Edit } from '@element-plus/icons-vue'\nimport { getFileList, uploadFile, downloadFile as downloadFileApi, deleteFile as deleteFileApi, searchFiles as searchFilesApi, renameFile as renameFileApi } from '@/api/file'\nimport { getFolderList } from '@/api/folder'\n\nconst loading = ref(false)\nconst uploading = ref(false)\nconst files = ref([])\nconst searchKeyword = ref('')\nconst showUploadDialog = ref(false)\nconst uploadFiles = ref([])\nconst availableFolders = ref([])\nconst uploadProgress = ref([])\n\nconst uploadForm = reactive({\n  folderId: null\n})\n\n// 格式化文件大小\nconst formatFileSize = (bytes) => {\n  if (!bytes) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// 格式化日期时间\nconst formatDateTime = (datetime) => {\n  if (!datetime) return ''\n  return new Date(datetime).toLocaleString()\n}\n\n// 加载文件夹列表\nconst loadFolders = async () => {\n  try {\n    const response = await getFolderList()\n    availableFolders.value = response || []\n  } catch (error) {\n    console.error('加载文件夹列表失败:', error)\n  }\n}\n\n// 加载文件列表\nconst loadFiles = async () => {\n  loading.value = true\n  try {\n    const response = await getFileList()\n    files.value = response || []\n  } catch (error) {\n    ElMessage.error('加载文件列表失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 刷新文件列表\nconst refreshFiles = () => {\n  loadFiles()\n}\n\n// 搜索文件\nconst searchFiles = async () => {\n  if (!searchKeyword.value.trim()) {\n    await loadFiles()\n    return\n  }\n  \n  loading.value = true\n  try {\n    const response = await searchFilesApi(searchKeyword.value)\n    files.value = response || []\n    ElMessage.success(`找到 ${files.value.length} 个文件`)\n  } catch (error) {\n    ElMessage.error('搜索失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 上传相关方法\nconst handleFileChange = (file) => {\n  uploadFiles.value.push(file)\n}\n\nconst handleFileRemove = (file) => {\n  const index = uploadFiles.value.findIndex(f => f.uid === file.uid)\n  if (index > -1) {\n    uploadFiles.value.splice(index, 1)\n  }\n}\n\nconst uploadFilesFunc = async () => {\n  if (uploadFiles.value.length === 0) {\n    ElMessage.warning('请选择要上传的文件')\n    return\n  }\n\n  uploading.value = true\n  uploadProgress.value = uploadFiles.value.map(file => ({\n    name: file.name,\n    percent: 0,\n    status: ''\n  }))\n\n  try {\n    for (let i = 0; i < uploadFiles.value.length; i++) {\n      const file = uploadFiles.value[i]\n      const formData = new FormData()\n      formData.append('file', file.raw)\n      \n      if (uploadForm.folderId) {\n        formData.append('folderId', uploadForm.folderId)\n      }\n\n      uploadProgress.value[i].status = 'uploading'\n      \n      await uploadFile(formData, (progressEvent) => {\n        const percent = Math.round((progressEvent.loaded * 100) / progressEvent.total)\n        uploadProgress.value[i].percent = percent\n      })\n      \n      uploadProgress.value[i].status = 'success'\n      uploadProgress.value[i].percent = 100\n    }\n    \n    ElMessage.success('文件上传成功')\n    showUploadDialog.value = false\n    uploadFiles.value = []\n    uploadProgress.value = []\n    uploadForm.folderId = null\n    await loadFiles()\n  } catch (error) {\n    ElMessage.error('文件上传失败')\n    uploadProgress.value.forEach(progress => {\n      if (progress.status !== 'success') {\n        progress.status = 'exception'\n      }\n    })\n  } finally {\n    uploading.value = false\n  }\n}\n\n// 下载文件\nconst downloadFile = async (file) => {\n  try {\n    const response = await downloadFileApi(file.id)\n    const blob = new Blob([response.data])\n    const url = window.URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = file.originalFilename || file.name\n    document.body.appendChild(a)\n    a.click()\n    window.URL.revokeObjectURL(url)\n    document.body.removeChild(a)\n  } catch (error) {\n    ElMessage.error('文件下载失败')\n  }\n}\n\n// 重命名文件\nconst renameFile = async (file) => {\n  try {\n    const { value } = await ElMessageBox.prompt(\n      `请输入文件的新名称`,\n      '重命名文件',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputValue: file.originalFilename || file.name,\n        inputPattern: /.+/,\n        inputErrorMessage: '文件名不能为空'\n      }\n    )\n    \n    await renameFileApi(file.id, value)\n    ElMessage.success('文件重命名成功')\n    await loadFiles()\n  } catch (error) {\n    if (error !== 'cancel') {\n      ElMessage.error('文件重命名失败')\n    }\n  }\n}\n\n// 删除文件\nconst deleteFile = async (file) => {\n  try {\n    await ElMessageBox.confirm(\n      `确定要删除文件 \"${file.originalFilename || file.name}\" 吗？`,\n      '删除确认',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }\n    )\n    \n    await deleteFileApi(file.id)\n    ElMessage.success('文件删除成功')\n    await loadFiles()\n  } catch (error) {\n    if (error !== 'cancel') {\n      ElMessage.error('文件删除失败')\n    }\n  }\n}\n\nonMounted(() => {\n  loadFiles()\n  loadFolders()\n})\n</script>\n\n<style scoped>\n.files-container {\n  padding: 20px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.toolbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.toolbar-left {\n  display: flex;\n  gap: 10px;\n}\n\n.toolbar-right {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n.breadcrumb {\n  margin-bottom: 20px;\n  padding: 10px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.file-list {\n  flex: 1;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  overflow: hidden;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.file-icon {\n  font-size: 18px;\n  color: #409EFF;\n}\n\n.file-name {\n  font-weight: 500;\n}\n\n.upload-area {\n  border: 2px dashed #d9d9d9;\n  border-radius: 6px;\n  padding: 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: border-color 0.3s;\n}\n\n.upload-area:hover {\n  border-color: #409EFF;\n}\n\n.upload-area .el-icon--upload {\n  font-size: 48px;\n  color: #409EFF;\n  margin-bottom: 16px;\n}\n\n.el-upload__text {\n  color: #666;\n  font-size: 14px;\n}\n\n.el-upload__text em {\n  color: #409EFF;\n  font-style: normal;\n}\n\n:deep(.el-table) {\n  height: 100%;\n}\n\n:deep(.el-table__body-wrapper) {\n  overflow-y: auto;\n}\n\n.upload-progress {\n  margin-top: 20px;\n}\n\n.progress-item {\n  margin-bottom: 15px;\n}\n\n.progress-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 5px;\n}\n\n.progress-item .file-name {\n  font-size: 14px;\n  color: #333;\n  font-weight: 500;\n}\n\n.progress-item .progress-percent {\n  font-size: 12px;\n  color: #666;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}