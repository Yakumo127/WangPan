{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home-container\"\n};\nconst _hoisted_2 = {\n  class: \"welcome-section\"\n};\nconst _hoisted_3 = {\n  class: \"stat-icon\"\n};\nconst _hoisted_4 = {\n  class: \"stat-info\"\n};\nconst _hoisted_5 = {\n  class: \"stat-number\"\n};\nconst _hoisted_6 = {\n  class: \"stat-icon\"\n};\nconst _hoisted_7 = {\n  class: \"stat-info\"\n};\nconst _hoisted_8 = {\n  class: \"stat-number\"\n};\nconst _hoisted_9 = {\n  class: \"stat-icon\"\n};\nconst _hoisted_10 = {\n  class: \"stat-info\"\n};\nconst _hoisted_11 = {\n  class: \"stat-number\"\n};\nconst _hoisted_12 = {\n  class: \"stat-icon\"\n};\nconst _hoisted_13 = {\n  class: \"stat-info\"\n};\nconst _hoisted_14 = {\n  class: \"stat-number\"\n};\nconst _hoisted_15 = {\n  class: \"quick-actions\"\n};\nconst _hoisted_16 = {\n  class: \"storage-info\"\n};\nconst _hoisted_17 = {\n  class: \"storage-header\"\n};\nconst _hoisted_18 = {\n  class: \"card-header\"\n};\nconst _hoisted_19 = {\n  class: \"recent-activity\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"empty-activity\"\n};\nconst _hoisted_21 = {\n  class: \"activity-icon\"\n};\nconst _hoisted_22 = {\n  class: \"activity-content\"\n};\nconst _hoisted_23 = {\n  class: \"activity-title\"\n};\nconst _hoisted_24 = {\n  class: \"activity-time\"\n};\nconst _hoisted_25 = {\n  class: \"card-header\"\n};\nconst _hoisted_26 = {\n  class: \"recent-files\"\n};\nconst _hoisted_27 = {\n  key: 0,\n  class: \"empty-files\"\n};\nconst _hoisted_28 = {\n  key: 1,\n  class: \"file-grid\"\n};\nconst _hoisted_29 = [\"onClick\"];\nconst _hoisted_30 = {\n  class: \"file-icon\"\n};\nconst _hoisted_31 = {\n  class: \"file-name\"\n};\nconst _hoisted_32 = {\n  class: \"file-size\"\n};\nconst _hoisted_33 = {\n  class: \"file-time\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_progress = _resolveComponent(\"el-progress\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 欢迎区域 \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h1\", null, \"欢迎回来，\" + _toDisplayString($setup.user?.displayName || $setup.user?.username || '用户'), 1 /* TEXT */), _createElementVNode(\"p\", null, \"今天是 \" + _toDisplayString($setup.currentDate) + \"，祝您工作愉快！\", 1 /* TEXT */)]), _createCommentVNode(\" 统计卡片 \"), _createVNode(_component_el_row, {\n    gutter: 20,\n    class: \"stats-row\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"stat-card\",\n        loading: $setup.loading\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"Document\"])]),\n          _: 1 /* STABLE */\n        })]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.userStats.totalFiles || 0), 1 /* TEXT */), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n          class: \"stat-label\"\n        }, \"我的文件\", -1 /* CACHED */))])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"stat-card\",\n        loading: $setup.loading\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"FolderOpened\"])]),\n          _: 1 /* STABLE */\n        })]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, _toDisplayString($setup.userStats.totalFolders || 0), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n          class: \"stat-label\"\n        }, \"我的文件夹\", -1 /* CACHED */))])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"stat-card\",\n        loading: $setup.loading\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"DataLine\"])]),\n          _: 1 /* STABLE */\n        })]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, _toDisplayString($setup.formatStorage($setup.userStats.usedStorage || 0)), 1 /* TEXT */), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n          class: \"stat-label\"\n        }, \"已用存储\", -1 /* CACHED */))])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"stat-card\",\n        loading: $setup.loading\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"PieChart\"])]),\n          _: 1 /* STABLE */\n        })]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, _toDisplayString($setup.storagePercentage) + \"%\", 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n          class: \"stat-label\"\n        }, \"存储使用率\", -1 /* CACHED */))])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 快速操作和最近活动 \"), _createVNode(_component_el_row, {\n    gutter: 20,\n    class: \"content-row\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 12\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"quick-actions-card\"\n      }, {\n        header: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createElementVNode(\"div\", {\n          class: \"card-header\"\n        }, [_createElementVNode(\"span\", null, \"快速操作\")], -1 /* CACHED */)]))]),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $setup.goToUpload,\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Upload\"])]),\n            _: 1 /* STABLE */\n          }), _cache[5] || (_cache[5] = _createTextVNode(\" 上传文件 \", -1 /* CACHED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_button, {\n          type: \"success\",\n          onClick: $setup.goToFiles,\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Document\"])]),\n            _: 1 /* STABLE */\n          }), _cache[6] || (_cache[6] = _createTextVNode(\" 管理文件 \", -1 /* CACHED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_button, {\n          onClick: $setup.goToProfile,\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"User\"])]),\n            _: 1 /* STABLE */\n          }), _cache[7] || (_cache[7] = _createTextVNode(\" 个人中心 \", -1 /* CACHED */))]),\n          _: 1 /* STABLE */\n        })]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"存储使用情况\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.formatStorage($setup.userStats.usedStorage || 0)) + \" / \" + _toDisplayString($setup.formatStorage($setup.userStats.storageLimit || 1024 * 1024 * 1024)), 1 /* TEXT */)]), _createVNode(_component_el_progress, {\n          percentage: $setup.storagePercentage,\n          color: $setup.storagePercentage > 80 ? '#f56c6c' : '#409eff',\n          \"stroke-width\": 8\n        }, null, 8 /* PROPS */, [\"percentage\", \"color\"])])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 12\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"recent-activity-card\"\n      }, {\n        header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_18, [_cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"最近活动\", -1 /* CACHED */)), _createVNode(_component_el_button, {\n          onClick: $setup.refreshActivities,\n          loading: $setup.loading,\n          text: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Refresh\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"loading\"])])]),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_19, [$setup.recentActivities.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"Document\"])]),\n          _: 1 /* STABLE */\n        }), _cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"暂无活动记录\", -1 /* CACHED */))])) : (_openBlock(true), _createElementBlock(_Fragment, {\n          key: 1\n        }, _renderList($setup.recentActivities, activity => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: activity.id,\n            class: \"activity-item\"\n          }, [_createElementVNode(\"div\", _hoisted_21, [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [activity.type === 'upload' ? (_openBlock(), _createBlock($setup[\"Document\"], {\n              key: 0\n            })) : activity.type === 'download' ? (_openBlock(), _createBlock($setup[\"Download\"], {\n              key: 1\n            })) : activity.type === 'delete' ? (_openBlock(), _createBlock($setup[\"Delete\"], {\n              key: 2\n            })) : (_openBlock(), _createBlock($setup[\"Folder\"], {\n              key: 3\n            }))]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, _toDisplayString(activity.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_24, _toDisplayString($setup.formatTime(activity.time)), 1 /* TEXT */)])]);\n        }), 128 /* KEYED_FRAGMENT */))])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 最近文件 \"), _createVNode(_component_el_row, {\n    gutter: 20,\n    class: \"files-row\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"recent-files-card\"\n      }, {\n        header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_25, [_cache[12] || (_cache[12] = _createElementVNode(\"span\", null, \"最近文件\", -1 /* CACHED */)), _createVNode(_component_el_button, {\n          onClick: $setup.goToFiles,\n          type: \"primary\",\n          text: \"\"\n        }, {\n          default: _withCtx(() => [_cache[11] || (_cache[11] = _createTextVNode(\" 查看全部 \", -1 /* CACHED */)), _createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"ArrowRight\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })])]),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_26, [$setup.recentFiles.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode($setup[\"Document\"])]),\n          _: 1 /* STABLE */\n        }), _cache[14] || (_cache[14] = _createElementVNode(\"p\", null, \"暂无文件\", -1 /* CACHED */)), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $setup.goToUpload\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Upload\"])]),\n            _: 1 /* STABLE */\n          }), _cache[13] || (_cache[13] = _createTextVNode(\" 上传第一个文件 \", -1 /* CACHED */))]),\n          _: 1 /* STABLE */\n        })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.recentFiles, file => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: file.id,\n            class: \"file-item\",\n            onClick: $event => $setup.downloadFile(file)\n          }, [_createElementVNode(\"div\", _hoisted_30, [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [!file.isDirectory ? (_openBlock(), _createBlock($setup[\"Document\"], {\n              key: 0\n            })) : (_openBlock(), _createBlock($setup[\"Folder\"], {\n              key: 1\n            }))]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]), _createElementVNode(\"div\", _hoisted_31, _toDisplayString(file.originalFilename || file.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_32, _toDisplayString($setup.formatFileSize(file.size)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_33, _toDisplayString($setup.formatTime(file.createTime)), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_29);\n        }), 128 /* KEYED_FRAGMENT */))]))])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_toDisplayString","$setup","user","displayName","username","currentDate","_createVNode","_component_el_row","gutter","_component_el_col","span","_component_el_card","loading","_hoisted_3","_component_el_icon","_hoisted_4","_hoisted_5","userStats","totalFiles","_hoisted_6","_hoisted_7","_hoisted_8","totalFolders","_hoisted_9","_hoisted_10","_hoisted_11","formatStorage","usedStorage","_hoisted_12","_hoisted_13","_hoisted_14","storagePercentage","header","_withCtx","_cache","_hoisted_15","_component_el_button","type","onClick","goToUpload","size","goToFiles","goToProfile","_hoisted_16","_hoisted_17","storageLimit","_component_el_progress","percentage","color","_hoisted_18","refreshActivities","text","_hoisted_19","recentActivities","length","_hoisted_20","_Fragment","key","_renderList","activity","id","_hoisted_21","_createBlock","_hoisted_22","_hoisted_23","title","_hoisted_24","formatTime","time","_hoisted_25","_hoisted_26","recentFiles","_hoisted_27","_hoisted_28","file","$event","downloadFile","_hoisted_30","isDirectory","_hoisted_31","originalFilename","name","_hoisted_32","formatFileSize","_hoisted_33","createTime"],"sources":["/workspace/frontend/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <!-- 欢迎区域 -->\n    <div class=\"welcome-section\">\n      <h1>欢迎回来，{{ user?.displayName || user?.username || '用户' }}</h1>\n      <p>今天是 {{ currentDate }}，祝您工作愉快！</p>\n    </div>\n\n    <!-- 统计卡片 -->\n    <el-row :gutter=\"20\" class=\"stats-row\">\n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\" :loading=\"loading\">\n          <div class=\"stat-icon\">\n            <el-icon><Document /></el-icon>\n          </div>\n          <div class=\"stat-info\">\n            <div class=\"stat-number\">{{ userStats.totalFiles || 0 }}</div>\n            <div class=\"stat-label\">我的文件</div>\n          </div>\n        </el-card>\n      </el-col>\n      \n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\" :loading=\"loading\">\n          <div class=\"stat-icon\">\n            <el-icon><FolderOpened /></el-icon>\n          </div>\n          <div class=\"stat-info\">\n            <div class=\"stat-number\">{{ userStats.totalFolders || 0 }}</div>\n            <div class=\"stat-label\">我的文件夹</div>\n          </div>\n        </el-card>\n      </el-col>\n      \n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\" :loading=\"loading\">\n          <div class=\"stat-icon\">\n            <el-icon><DataLine /></el-icon>\n          </div>\n          <div class=\"stat-info\">\n            <div class=\"stat-number\">{{ formatStorage(userStats.usedStorage || 0) }}</div>\n            <div class=\"stat-label\">已用存储</div>\n          </div>\n        </el-card>\n      </el-col>\n      \n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\" :loading=\"loading\">\n          <div class=\"stat-icon\">\n            <el-icon><PieChart /></el-icon>\n          </div>\n          <div class=\"stat-info\">\n            <div class=\"stat-number\">{{ storagePercentage }}%</div>\n            <div class=\"stat-label\">存储使用率</div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 快速操作和最近活动 -->\n    <el-row :gutter=\"20\" class=\"content-row\">\n      <el-col :span=\"12\">\n        <el-card class=\"quick-actions-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>快速操作</span>\n            </div>\n          </template>\n          <div class=\"quick-actions\">\n            <el-button type=\"primary\" @click=\"goToUpload\" size=\"large\">\n              <el-icon><Upload /></el-icon>\n              上传文件\n            </el-button>\n            <el-button type=\"success\" @click=\"goToFiles\" size=\"large\">\n              <el-icon><Document /></el-icon>\n              管理文件\n            </el-button>\n            <el-button @click=\"goToProfile\" size=\"large\">\n              <el-icon><User /></el-icon>\n              个人中心\n            </el-button>\n          </div>\n          \n          <!-- 存储使用情况 -->\n          <div class=\"storage-info\">\n            <div class=\"storage-header\">\n              <span>存储使用情况</span>\n              <span>{{ formatStorage(userStats.usedStorage || 0) }} / {{ formatStorage(userStats.storageLimit || 1024 * 1024 * 1024) }}</span>\n            </div>\n            <el-progress \n              :percentage=\"storagePercentage\" \n              :color=\"storagePercentage > 80 ? '#f56c6c' : '#409eff'\"\n              :stroke-width=\"8\"\n            />\n          </div>\n        </el-card>\n      </el-col>\n      \n      <el-col :span=\"12\">\n        <el-card class=\"recent-activity-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>最近活动</span>\n              <el-button @click=\"refreshActivities\" :loading=\"loading\" text>\n                <el-icon><Refresh /></el-icon>\n              </el-button>\n            </div>\n          </template>\n          <div class=\"recent-activity\">\n            <div v-if=\"recentActivities.length === 0\" class=\"empty-activity\">\n              <el-icon><Document /></el-icon>\n              <p>暂无活动记录</p>\n            </div>\n            <div v-else v-for=\"activity in recentActivities\" :key=\"activity.id\" class=\"activity-item\">\n              <div class=\"activity-icon\">\n                <el-icon>\n                  <Document v-if=\"activity.type === 'upload'\" />\n                  <Download v-else-if=\"activity.type === 'download'\" />\n                  <Delete v-else-if=\"activity.type === 'delete'\" />\n                  <Folder v-else />\n                </el-icon>\n              </div>\n              <div class=\"activity-content\">\n                <div class=\"activity-title\">{{ activity.title }}</div>\n                <div class=\"activity-time\">{{ formatTime(activity.time) }}</div>\n              </div>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 最近文件 -->\n    <el-row :gutter=\"20\" class=\"files-row\">\n      <el-col :span=\"24\">\n        <el-card class=\"recent-files-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>最近文件</span>\n              <el-button @click=\"goToFiles\" type=\"primary\" text>\n                查看全部\n                <el-icon><ArrowRight /></el-icon>\n              </el-button>\n            </div>\n          </template>\n          <div class=\"recent-files\">\n            <div v-if=\"recentFiles.length === 0\" class=\"empty-files\">\n              <el-icon><Document /></el-icon>\n              <p>暂无文件</p>\n              <el-button type=\"primary\" @click=\"goToUpload\">\n                <el-icon><Upload /></el-icon>\n                上传第一个文件\n              </el-button>\n            </div>\n            <div v-else class=\"file-grid\">\n              <div v-for=\"file in recentFiles\" :key=\"file.id\" class=\"file-item\" @click=\"downloadFile(file)\">\n                <div class=\"file-icon\">\n                  <el-icon>\n                    <Document v-if=\"!file.isDirectory\" />\n                    <Folder v-else />\n                  </el-icon>\n                </div>\n                <div class=\"file-name\">{{ file.originalFilename || file.name }}</div>\n                <div class=\"file-size\">{{ formatFileSize(file.size) }}</div>\n                <div class=\"file-time\">{{ formatTime(file.createTime) }}</div>\n              </div>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { \n  Document, FolderOpened, User, DataLine, Upload, Refresh, \n  Download, Delete, Folder, ArrowRight, PieChart\n} from '@element-plus/icons-vue'\nimport { getFileList } from '@/api/file'\nimport { useAuthStore } from '@/store/auth'\n\nconst router = useRouter()\nconst authStore = useAuthStore()\n\nconst loading = ref(false)\nconst userStats = ref({\n  totalFiles: 0,\n  totalFolders: 0,\n  usedStorage: 0,\n  storageLimit: 1024 * 1024 * 1024 // 1GB\n})\nconst recentActivities = ref([])\nconst recentFiles = ref([])\n\nconst user = computed(() => authStore.user)\nconst currentDate = computed(() => new Date().toLocaleDateString('zh-CN', {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  weekday: 'long'\n}))\n\nconst storagePercentage = computed(() => {\n  if (!userStats.value.storageLimit) return 0\n  return Math.round((userStats.value.usedStorage / userStats.value.storageLimit) * 100)\n})\n\n// 格式化存储大小\nconst formatStorage = (bytes) => {\n  if (!bytes) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// 格式化文件大小\nconst formatFileSize = (bytes) => {\n  if (!bytes) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// 格式化时间\nconst formatTime = (time) => {\n  if (!time) return ''\n  const date = new Date(time)\n  const now = new Date()\n  const diff = now - date\n  \n  if (diff < 60000) return '刚刚'\n  if (diff < 3600000) return Math.floor(diff / 60000) + '分钟前'\n  if (diff < 86400000) return Math.floor(diff / 3600000) + '小时前'\n  if (diff < 604800000) return Math.floor(diff / 86400000) + '天前'\n  \n  return date.toLocaleDateString()\n}\n\n// 加载用户统计信息\nconst loadUserStats = async () => {\n  loading.value = true\n  try {\n    const response = await getFileList()\n    const files = response || []\n    \n    userStats.value = {\n      totalFiles: files.length,\n      totalFolders: files.filter(f => f.isDirectory).length,\n      usedStorage: files.reduce((sum, file) => sum + (file.size || 0), 0),\n      storageLimit: user.value?.quotaLimit || 1024 * 1024 * 1024\n    }\n    \n    // 更新最近文件\n    recentFiles.value = files\n      .filter(f => !f.isDirectory)\n      .sort((a, b) => new Date(b.createTime) - new Date(a.createTime))\n      .slice(0, 8)\n    \n    // 生成最近活动\n    recentActivities.value = files\n      .sort((a, b) => new Date(b.createTime) - new Date(a.createTime))\n      .slice(0, 5)\n      .map(file => ({\n        id: file.id,\n        type: 'upload',\n        title: `上传了文件 \"${file.originalFilename || file.name}\"`,\n        time: file.createTime\n      }))\n    \n  } catch (error) {\n    ElMessage.error('加载统计信息失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 刷新活动记录\nconst refreshActivities = () => {\n  loadUserStats()\n}\n\n// 页面跳转\nconst goToUpload = () => {\n  router.push('/files')\n}\n\nconst goToFiles = () => {\n  router.push('/files')\n}\n\nconst goToProfile = () => {\n  router.push('/profile')\n}\n\n// 下载文件\nconst downloadFile = async (file) => {\n  try {\n    const { downloadFile: downloadFileApi } = await import('@/api/file')\n    const response = await downloadFileApi(file.id)\n    const blob = new Blob([response.data])\n    const url = window.URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = file.originalFilename || file.name\n    document.body.appendChild(a)\n    a.click()\n    window.URL.revokeObjectURL(url)\n    document.body.removeChild(a)\n  } catch (error) {\n    ElMessage.error('文件下载失败')\n  }\n}\n\nonMounted(() => {\n  loadUserStats()\n})\n</script>\n\n<style scoped>\n.home-container {\n  padding: 20px;\n}\n\n.stat-card {\n  text-align: center;\n  padding: 20px;\n}\n\n.stat-icon {\n  font-size: 48px;\n  color: #409EFF;\n  margin-bottom: 10px;\n}\n\n.stat-number {\n  font-size: 32px;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 5px;\n}\n\n.stat-label {\n  font-size: 14px;\n  color: #666;\n}\n\n.mt-20 {\n  margin-top: 20px;\n}\n\n.quick-actions {\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n\n.activity-item {\n  padding: 10px 0;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.activity-item:last-child {\n  border-bottom: none;\n}\n\n.activity-title {\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 5px;\n}\n\n.activity-time {\n  font-size: 12px;\n  color: #999;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}