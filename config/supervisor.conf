[supervisord]
nodaemon=true
user=root

[program:mysql]
command=/usr/bin/mysqld --user=mysql --console
autostart=true
autorestart=true
priority=100
stdout_logfile=/app/logs/mysql.log
stderr_logfile=/app/logs/mysql-error.log

[program:redis]
command=/usr/bin/redis-server /etc/redis/redis.conf
autostart=true
autorestart=true
priority=200
stdout_logfile=/app/logs/redis.log
stderr_logfile=/app/logs/redis-error.log

[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
autostart=true
autorestart=true
priority=300
stdout_logfile=/app/logs/nginx.log
stderr_logfile=/app/logs/nginx-error.log

[program:init-db]
command=/app/scripts/init-database.sh
autostart=true
autorestart=false
priority=400
stdout_logfile=/app/logs/init-db.log
stderr_logfile=/app/logs/init-db-error.log

[program:backend]
command=/app/scripts/start-backend.sh
autostart=true
autorestart=true
priority=500
stdout_logfile=/app/logs/backend.log
stderr_logfile=/app/logs/backend-error.log

[program:frontend]
command=/app/scripts/start-frontend.sh
autostart=true
autorestart=true
priority=600
stdout_logfile=/app/logs/frontend.log
stderr_logfile=/app/logs/frontend-error.log